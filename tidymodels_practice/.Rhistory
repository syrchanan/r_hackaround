if (!require("pacman")) install.packages("pacman")
pacman::p_load("tidyverse")
set.seed(8675309)
train_set <- read_csv("./titanic/test.csv")
train_set
pacman::p_load("tidyverse", "janitor")
train_set <- read_csv("./titanic/train.csv")
train_set
test_set <- read_csv("./titanic/test.csv")
pacman::p_load("tidyverse", "janitor", "tidymodels")
set.seed(8675309)
train_set <- read_csv("./titanic/train.csv")
test_set <- read_csv("./titanic/test.csv")
train_set
train_set <- read_csv("./titanic/train.csv") %>% clean_names()
test_set <- read_csv("./titanic/test.csv") %>% clean_names()
recipe(survived ~ ., train_set)
recipe(survived ~ ., train_set) %>%
step_naomit() %>%
prep(train_set) %>%
bake()
recipe(survived ~ ., train_set) %>%
step_naomit() %>%
prep(train_set) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit() %>%
prep(train_set) %>%
bake(train_set)
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
prep(train_set) %>%
bake(train_set)
recipe(survived ~ ., train_set) %>%
step_naomit(role = all_predictors()) %>%
prep(train_set) %>%
bake(train_set)
recipe(survived ~ ., train_set) %>%
step_naomit(role = all_predictors()) %>%
prep(train_set) %>%
bake(train_set)
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
prep(train_set) %>%
bake(train_set)
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors())
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
prep(retain = T) %>%
juice()
seq(10, 60, by = 10)
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(10, 60, by = 10)) %>%
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 100, by = 10)) %>%
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 100, by = 10)) %>%
prep(retain = T) %>%
juice() %>%
pull(age)
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
prep(retain = T) %>%
juice() %>%
pull(age)
train_set$age
max(train_set$age)
max(train_set$age, na.rm = T)
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
step_rm(name) %>%
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
step_rm(name) %>%
step_unorder(all_factor()) %>%
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
step_discretize(fare, num_breaks = 5) %>%
step_rm(name) %>%
# step_unorder(all_factor()) %>% - no ordered factors here already
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
step_discretize(fare, num_breaks = 5) %>%
step_rm(name) %>%
step_zv(all_predictors()) %>%
step_corr() %>%
# step_unorder(all_factor()) %>% - no ordered factors here already
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
step_discretize(fare, num_breaks = 5) %>%
step_rm(name) %>%
step_zv(all_predictors()) %>%
step_corr(all_predictors()) %>%
# step_unorder(all_factor()) %>% - no ordered factors here already
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_zv(all_predictors()) %>%
step_corr(all_numeric_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
step_discretize(fare, num_breaks = 5) %>%
step_rm(name) %>%
# step_unorder(all_factor()) %>% - no ordered factors here already
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_zv(all_predictors()) %>%
step_corr(all_numeric_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
step_discretize(fare, num_breaks = 5) %>%
step_mutate_at(all_double_predictors(), factor, ordered = F) %>%
step_rm(name) %>%
# step_unorder(all_factor()) %>% - no ordered factors here already
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_zv(all_predictors()) %>%
step_corr(all_numeric_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
step_discretize(fare, num_breaks = 5) %>%
step_mutate_at(all_double_predictors(), fn = factor, ordered = F) %>%
step_rm(name) %>%
# step_unorder(all_factor()) %>% - no ordered factors here already
prep(retain = T) %>%
juice()
recipe(survived ~ ., train_set) %>%
step_naomit(all_predictors()) %>%
step_zv(all_predictors()) %>%
step_corr(all_numeric_predictors()) %>%
step_cut(age, breaks = seq(0, 80, by = 10)) %>%
step_discretize(fare, num_breaks = 5) %>%
step_mutate_at(all_double_predictors(), fn = ~ factor(., ordered = F)) %>%
step_rm(name) %>%
# step_unorder(all_factor()) %>% - no ordered factors here already
prep(retain = T) %>%
juice()
